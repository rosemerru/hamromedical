function uuidDense(a){function b(a,b){for(var e=0;e<b;e++)c+=d[a%d.length],a=Math.floor(a/d.length)}var d=a||"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.~",c="";b(Math.floor(Date.now()/1E3),4);b(Math.floor(Math.random()*Math.pow(d.length,4)),4);b(Math.floor(Math.random()*Math.pow(d.length,4)),4);return c}
function redshiftUuid(){return uuidDense("\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\x0B\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007f").substring(4,10)+uuidDense("\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\x0B\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007f")}
function pad(a,b){var d=a+"";return d.length<b?Array(++b-d.length).join("0")+d:d}function redshiftDate(a){a=new Date(a.getTime()+6E4*a.getTimezoneOffset());return a.getFullYear()+"-"+pad(a.getMonth()+1,2)+"-"+pad(a.getDate(),2)+" "+pad(a.getHours(),2)+":"+pad(a.getMinutes(),2)+":"+pad(a.getSeconds(),2)}
function logMetrics(a){if(window.performance&&window.performance.mark&&window.performance.timing&&(window.performance.mark("lucidLoadDone"),0<window.performance.getEntriesByName("lucidLoadStart","mark").length&&0<window.performance.getEntriesByName("lucidLoadDone","mark").length)){var b=redshiftUuid(),d=redshiftDate(new Date);window.performance.measure("lucidLoadStart","navigationStart","lucidLoadStart");window.performance.measure("lucidLoadDone","navigationStart","lucidLoadDone");window.performance.measure("lucidLoadTime",
"lucidLoadStart","lucidLoadDone");var c=[];for(e in window.performance.timing){var f=window.performance.timing[e]-window.performance.timing.navigationStart;f&&0<=f&&c.push(JSON.stringify({session_id:b,name:e,value:f}))}c.push(JSON.stringify({session_id:b,name:"lucidLoadStart",value:window.performance.getEntriesByName("lucidLoadStart","measure")[0].duration}));c.push(JSON.stringify({session_id:b,name:"lucidLoadDone",value:window.performance.getEntriesByName("lucidLoadDone","measure")[0].duration}));
c.push(JSON.stringify({session_id:b,name:"lucidLoadTime",value:window.performance.getEntriesByName("lucidLoadTime","measure")[0].duration/1E3}));a=[JSON.stringify({session_id:b,name:"app",value:a}),JSON.stringify({session_id:b,name:"product",value:window.lucidConfigure.appname})];test=abTest("PerformanceLogging");if("T-A"===test){var e=new window.XMLHttpRequest;e.open("POST",window.lucidConfigure.analyticsServiceHost+"/perf/sessionTags");e.withCredentials=!0;e.contentType="text/plain";e.send(a.join("\n"));
a=new window.XMLHttpRequest;a.open("POST",window.lucidConfigure.analyticsServiceHost+"/perf/sessionMetrics");a.withCredentials=!0;a.contentType="text/plain";a.send(c.join("\n"));c=new window.XMLHttpRequest;c.open("POST",window.lucidConfigure.analyticsServiceHost+"/perf/sessions");c.withCredentials=!0;c.contentType="text/plain";c.send(JSON.stringify({id:b,created:d}))}}};
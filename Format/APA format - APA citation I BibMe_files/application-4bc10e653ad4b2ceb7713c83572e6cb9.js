function debounce(t,e,i){var n;return function(){var o=this,r=arguments,a=function(){n=null,i||t.apply(o,r)},s=i&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(o,r)}}function getTimeRemaining(t){var e=Date.parse(t)-Date.parse(new Date),i=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24),r=Math.floor(e/864e5);return{total:e,days:r,hours:o,minutes:n,seconds:i}}function initializeClock(t,e){function i(){var t=getTimeRemaining(e);n.innerHTML=t.days,o.innerHTML=("0"+t.hours).slice(-2),r.innerHTML=("0"+t.minutes).slice(-2),a.innerHTML=("0"+t.seconds).slice(-2),t.total<=0&&clearInterval(s)}var n=t.querySelector(".days"),o=t.querySelector(".hours"),r=t.querySelector(".minutes"),a=t.querySelector(".seconds");i();var s=setInterval(i,1e3)}function CitationService(t){this.resource=t.resource,this.parameters=t.parameters,this.item_class=t.item_class,this.site_code=t.site_code,this.style=t.style,this.auth=t.auth||!1,"undefined"!=typeof this.parameters.query.url&&(this.parameters.query.url=$("<textarea/>").html(this.parameters.query.url).text())}function FormattingService(){var t=this;t.formatCitation.bind(t),$("#parenthetical_box li input[id]").on("input",function(){t.formatCitation()}),$('#parenthetical_box li input[type="checkbox"]').on("click",function(){t.formatCitation()}),t.formatCitation()}if(jQuery.fn.populate=function(t,e){function i(t,n){if(n=n||"",void 0==t);else if(t.constructor==Object)for(var o in t){var r=n+(""==n?o:"["+o+"]");i(t[o],r)}else if(t.constructor==Array)for(var a=0;a<t.length;a++){var s=e.useIndices?a:"";s=e.phpNaming?"["+s+"]":s;var r=n+s;i(t[a],r)}else void 0==l[n]?l[n]=t:l[n].constructor!=Array?l[n]=[l[n],t]:l[n].push(t)}function n(t){window.console&&console.log&&console.log(t)}function o(t){return"#"+t.replace(/(:|\[|\]|\.)/g,"\\$1")}function r(t){return n(t),t}function a(t,i,n){var o="id"==e.identifier?"#"+i:"["+e.identifier+'="'+i+'"]',r=jQuery(o,t);n=n.toString(),n="null"==n?"":n,r.html(n)}function s(t,i,a){var i=r(i),s=t[i];if(n([i,s].join(", ")),void 0==s)return s=jQuery(o(i),t),s&&0!=s.length?(s.html(a),!0):(e.debug&&n("No such element as "+i),!1);e.debug&&_populate.elements.push(s),elements=void 0==s.type&&s.length?s:[s];for(var l=0;l<elements.length;l++){var s=elements[l];if(s&&"undefined"!=typeof s&&"function"!=typeof s)switch(s.type||s.tagName){case"radio":s.checked=""!=s.value&&a.toString()==s.value;case"checkbox":for(var c=a.constructor==Array?a:[a],u=0;u<c.length;u++)s.checked|=s.value==c[u];break;case"select-multiple":for(var c=a.constructor==Array?a:[a],d=0;d<s.options.length;d++)for(var u=0;u<c.length;u++)s.options[d].selected|=s.options[d].value==c[u];break;case"select":case"select-one":$("#"+s.id+"_container").length>0?$("li#"+s.id+"_input_"+a).click():a.constructor==Array?s.value=a[l].toString()||a[l]:(a=null==a?"":a.toString()||a,s.value=a);break;case"text":case"button":case"textarea":case"submit":default:a.constructor==Array?s.value=a[l]:(a=null==a?"":a,s.value=a)}}}if(void 0===t)return this;var e=jQuery.extend({phpNaming:!0,railsNaming:!1,phpIndices:!1,resetForm:!0,identifier:"id",debug:!1},e);e.phpIndices&&(e.phpNaming=!0);var l=[];return i(t),e.debug&&(_populate={arr:l,obj:t,elements:[]}),this.each(function(){var t=this.tagName.toLowerCase(),i="form"==t?s:a;"form"==t&&e.resetForm&&this.reset();for(var n in l)l.hasOwnProperty(n)&&i(this,n,l[n])}),this},function(t){"use strict";t.fn.serializeJSON=function(e){var i,n,o,r,a,s,l;return s=t.serializeJSON,l=s.setupOpts(e),n=this.serializeArray(),s.readCheckboxUncheckedValues(n,this,l),i={},t.each(n,function(t,e){o=s.splitInputNameIntoKeysArray(e.name,l),r=o.pop(),"skip"!==r&&(a=s.parseValue(e.value,r,l),l.parseWithFunction&&"_"===r&&(a=l.parseWithFunction(a,e.name)),s.deepSet(i,o,a,l))}),i},t.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,customTypes:{},defaultTypes:{string:function(t){return String(t)},number:function(t){return Number(t)},"boolean":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)},"null":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)?t:null},array:function(t){return JSON.parse(t)},object:function(t){return JSON.parse(t)},auto:function(e){return t.serializeJSON.parseValue(e,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})}},useIntKeysAsArrayIndex:!1},setupOpts:function(e){var i,n,o,r,a,s;s=t.serializeJSON,null==e&&(e={}),o=s.defaultOptions||{},n=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(i in e)if(-1===n.indexOf(i))throw new Error("serializeJSON ERROR: invalid option '"+i+"'. Please use one of "+n.join(", "));return r=function(t){return e[t]!==!1&&""!==e[t]&&(e[t]||o[t])},a=r("parseAll"),{checkboxUncheckedValue:r("checkboxUncheckedValue"),parseNumbers:a||r("parseNumbers"),parseBooleans:a||r("parseBooleans"),parseNulls:a||r("parseNulls"),parseWithFunction:r("parseWithFunction"),typeFunctions:t.extend({},r("defaultTypes"),r("customTypes")),useIntKeysAsArrayIndex:r("useIntKeysAsArrayIndex")}},parseValue:function(e,i,n){var o,r;return r=t.serializeJSON,o=n.typeFunctions&&n.typeFunctions[i],o?o(e):n.parseNumbers&&r.isNumeric(e)?Number(e):!n.parseBooleans||"true"!==e&&"false"!==e?n.parseNulls&&"null"==e?null:e:"true"===e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},optionKeys:function(t){if(Object.keys)return Object.keys(t);var e,i=[];for(e in t)i.push(e);return i},splitInputNameIntoKeysArray:function(e,i){var n,o,r,a,s;return s=t.serializeJSON,a=s.extractTypeFromInputName(e,i),o=a[0],r=a[1],n=o.split("["),n=t.map(n,function(t){return t.replace(/\]/g,"")}),""===n[0]&&n.shift(),n.push(r),n},extractTypeFromInputName:function(e,i){var n,o,r;if(n=e.match(/(.*):([^:]+)$/)){if(r=t.serializeJSON,o=r.optionKeys(i?i.typeFunctions:r.defaultOptions.defaultTypes),o.push("skip"),-1!==o.indexOf(n[2]))return[n[1],n[2]];throw new Error("serializeJSON ERROR: Invalid type "+n[2]+" found in input name '"+e+"', please use one of "+o.join(", "))}return[e,"_"]},deepSet:function(e,i,n,o){var r,a,s,l,c,u;if(null==o&&(o={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!i||0===i.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");r=i[0],1===i.length?""===r?e.push(n):e[r]=n:(a=i[1],""===r&&(l=e.length-1,c=e[l],r=u.isObject(c)&&(u.isUndefined(c[a])||i.length>2)?l:l+1),""===a?!u.isUndefined(e[r])&&t.isArray(e[r])||(e[r]=[]):o.useIntKeysAsArrayIndex&&u.isValidArrayIndex(a)?!u.isUndefined(e[r])&&t.isArray(e[r])||(e[r]=[]):!u.isUndefined(e[r])&&u.isObject(e[r])||(e[r]={}),s=i.slice(1),u.deepSet(e[r],s,n,o))},readCheckboxUncheckedValues:function(e,i,n){var o,r,a,s,l;null==n&&(n={}),l=t.serializeJSON,o="input[type=checkbox][name]:not(:checked):not([disabled])",r=i.find(o).add(i.filter(o)),r.each(function(i,o){a=t(o),s=a.attr("data-unchecked-value"),s?e.push({name:o.name,value:s}):l.isUndefined(n.checkboxUncheckedValue)||e.push({name:o.name,value:n.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$),window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function o(t,e){return n(w.join(t+";")+(e||""))}function r(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var n in t){var o=t[n];if(!a(o,"-")&&y[o]!==i)return"pfx"==e?o:!0}return!1}function l(t,e,n){for(var o in t){var a=e[t[o]];if(a!==i)return n===!1?t[o]:r(a,"function")?a.bind(n||e):a}return!1}function c(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+k.join(n+" ")+n).split(" ");return r(e,"string")||r(e,"undefined")?s(o,e):(o=(t+" "+x.join(n+" ")+n).split(" "),l(o,e,i))}var u,d,p,h="2.8.3",f={},m=!0,b=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,_=":)",w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),$="Webkit Moz O ms",k=$.split(" "),x=$.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},C={},S=[],E=S.slice,j=function(t,i,n,o){var r,a,s,l,c=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(n,10))for(;n--;)s=e.createElement("div"),s.id=o?o[n]:g+(n+1),c.appendChild(s);return r=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),c.id=g,(u?c:d).innerHTML+=r,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=b.style.overflow,b.style.overflow="hidden",b.appendChild(d)),a=i(c,t),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),b.style.overflow=l),!!a},O=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e)&&i(e).matches||!1;var n;return j("@media "+e+" { #"+g+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},A={}.hasOwnProperty;p=r(A,"undefined")||r(A.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return A.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=E.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,i.concat(E.call(arguments)));return Object(a)===a?a:r}return e.apply(t,i.concat(E.call(arguments)))};return n}),C.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),a(y.backgroundColor,"rgba")},C.textshadow=function(){return""===e.createElement("div").style.textShadow},C.opacity=function(){return o("opacity:.55"),/^0.55$/.test(y.opacity)},C.fontface=function(){var t;return j('@font-face {font-family:"font";src:url("https://")}',function(i,n){var o=e.getElementById("smodernizr"),r=o.sheet||o.styleSheet,a=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(n.split(" ")[0])}),t},C.generatedcontent=function(){var t;return j(["#",g,"{font:0/0 a}#",g,':after{content:"',_,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},C.svg=function(){return!!e.createElementNS&&!!e.createElementNS(T.svg,"svg").createSVGRect};for(var N in C)p(C,N)&&(d=N.toLowerCase(),f[d]=C[N](),S.push((f[d]?"":"no-")+d));return f.addTest=function(t,e){if("object"==typeof t)for(var n in t)p(t,n)&&f.addTest(n,t[n]);else{if(t=t.toLowerCase(),f[t]!==i)return f;e="function"==typeof e?e():e,"undefined"!=typeof m&&m&&(b.className+=" "+(e?"":"no-")+t),f[t]=e}return f},n(""),v=u=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[m]];return e||(e={},b++,t[m]=b,g[b]=e),e}function r(t,i,n){if(i||(i=e),u)return i.createElement(t);n||(n=o(i));var r;return r=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!r.canHaveChildren||h.test(t)||r.tagUrn?r:n.frag.appendChild(r)}function a(t,i){if(t||(t=e),u)return t.createDocumentFragment();i=i||o(t);for(var r=i.frag.cloneNode(),a=0,s=n(),l=s.length;l>a;a++)r.createElement(s[a]);return r}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?r(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=o(t);return v.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||s(t,n),t}var c,u,d="3.7.0",p=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",b=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,u=!0}}();var v={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:a};t.html5=v,l(e)}(this,e),f._version=h,f._prefixes=w,f._domPrefixes=x,f._cssomPrefixes=k,f.mq=O,f.testProp=function(t){return s([t])},f.testAllProps=c,f.testStyles=j,b.className=b.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+S.join(" "):""),f}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==b.call(t)}function o(t){return"string"==typeof t}function r(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=g.shift();v=1,t?t.t?f(function(){("c"==t.t?p.injectCss:p.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):v=0}function l(t,i,n,o,r,l,c){function u(e){if(!h&&a(d.readyState)&&(y.r=h=1,!v&&s(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&f(function(){w.removeChild(d)},50);for(var n in C[i])C[i].hasOwnProperty(n)&&C[i][n].onload()}}var c=c||p.errorTimeout,d=e.createElement(t),h=0,b=0,y={t:n,s:i,e:r,a:l,x:c};1===C[i]&&(b=1,C[i]=[]),"object"==t?d.data=i:(d.src=i,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,b)},g.splice(o,0,y),"img"!=t&&(b||2===C[i]?(w.insertBefore(d,_?null:m),f(u,c)):C[i].push(d))}function c(t,e,i,n,r){return v=0,e=e||"j",o(t)?l("c"==e?k:$,t,e,this.i++,i,n,r):(g.splice(this.i++,0,t),1==g.length&&s()),this}function u(){var t=p;return t.loader={load:c,i:0},t}var d,p,h=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],b={}.toString,g=[],v=0,y="MozAppearance"in h.style,_=y&&!!e.createRange().compareNode,w=_?h:m.parentNode,h=t.opera&&"[object Opera]"==b.call(t.opera),h=!!e.attachEvent&&!h,$=y?"object":h?"script":"img",k=h?"script":$,x=Array.isArray||function(t){return"[object Array]"==b.call(t)},T=[],C={},S={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};p=function(t){function e(t){var e,i,n,t=t.split("!"),o=T.length,r=t.pop(),a=t.length,r={url:r,origUrl:r,prefixes:t};for(i=0;a>i;i++)n=t[i].split("="),(e=S[n.shift()])&&(r=e(r,n));for(i=0;o>i;i++)r=T[i](r);return r}function a(t,o,r,a,s){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=n(o)?o:o[t]||o[a]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,r,a,s):(C[l.url]?l.noexec=!0:C[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(o)||n(c))&&r.load(function(){u(),o&&o(l.origUrl,s,a),c&&c(l.origUrl,s,a),C[l.url]=2})))}function s(t,e){function i(t,i){if(t){if(o(t))i||(d=function(){var t=[].slice.call(arguments);p.apply(this,t),h()}),a(t,d,e,0,c);else if(Object(t)===t)for(l in s=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--s&&(n(d)?d=function(){var t=[].slice.call(arguments);p.apply(this,t),h()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),h()}}(p[l])),a(t[l],d,e,l,c))}else!i&&h()}var s,l,c=!!t.test,u=t.load||t.both,d=t.callback||r,p=d,h=t.complete||r;i(c?t.yep:t.nope,!!u),u&&i(u)}var l,c,d=this.yepnope.loader;if(o(t))a(t,0,d,0);else if(x(t))for(l=0;l<t.length;l++)c=t[l],o(c)?a(c,0,d,0):x(c)?p(c):Object(c)===c&&s(c,d);else Object(t)===t&&s(t,d)},p.addPrefix=function(t,e){S[t]=e},p.addFilter=function(t){T.push(t)},p.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,i,n,o,l,c){var u,d,h=e.createElement("script"),o=o||p.errorTimeout;h.src=t;for(d in n)h.setAttribute(d,n[d]);i=c?s:i||r,h.onreadystatechange=h.onload=function(){!u&&a(h.readyState)&&(u=1,i(),h.onload=h.onreadystatechange=null)},f(function(){u||(u=1,i(1))},o),l?h.onload():m.parentNode.insertBefore(h,m)},t.yepnope.injectCss=function(t,i,n,o,a,l){var c,o=e.createElement("link"),i=l?s:i||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in n)o.setAttribute(c,n[c]);a||(m.parentNode.insertBefore(o,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var o,r,a,s,l,c;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),a=t(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(a.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=i.csrfToken(),l=i.csrfParam(),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||i.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,r,a,s,l=t(),c=i||"input,textarea",u=e.find(c),d={};return u.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),d[s]=s)):(r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===n&&(l=l.add(o)))}),l.length?l:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),o=n.data("method"),r=n.data("params"),a=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!a&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=i.handleRemote(n);return s===!1?i.enableElement(n):s.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,a=t(this),s=i.isRemote(a);if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if(o=i.blankInputs(a,i.requiredInputSelector,!1),o&&i.fire(a,"ajax:aborted:required",[o]))return i.stopEverything(n)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null,a=n.closest("form");0===a.length&&(a=t("#"+n.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",n.attr("formnovalidate")),a.data("ujs:submit-button-formaction",n.attr("formaction")),a.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.2",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),
r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&"show"==e&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.2",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":t.extend({},o.data(),{trigger:this});i.call(r,s)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=i(n),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.2",a.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=i(o),a=r.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&o.find(r).trigger("focus"),n.trigger("click");var s=" li:not(.divider):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(e.target);38==e.which&&c>0&&c--,40==e.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof e?r[e](n):a.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.options.backdrop&&n.adjustBackdrop(),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},i.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;(o||"destroy"!=e)&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),d=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var h=s,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);s="bottom"==s&&u.bottom+p>m.bottom?"top":"top"==s&&u.top-p<m.top?"bottom":"right"==s&&u.right+d>m.width?"left":"left"==s&&u.left-d<m.left?"right":s,r.removeClass(h).addClass(s)}var b=this.getCalculatedOffset(s,u,d,p);this.applyPlacement(b,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(i,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(i),p=d?2*u.left-o+l:2*u.top-r+c,h=d?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(p,n[0][h],d)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+i;c<a.left?o.left=a.left-c:u>a.width&&(o.left=a.left+a.width-u)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;(o||"destroy"!=e)&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.2",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){var o=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map(function(){var n=t(this),o=n.data("target")||n.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.2",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+a?!1:"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:e;return null!=i&&i>=o?"top":null!=n&&l+c>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=t("body").height();"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e){function i(t,e){for(;t&&t.nodeType!==n;){if(t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=i},{}],2:[function(t,e){function i(t,e,i,o,r){var a=n.apply(this,arguments);return t.addEventListener(i,a,r),{destroy:function(){t.removeEventListener(i,a,r)}}}function n(t,e,i,n){return function(i){i.delegateTarget=o(i.target,e),i.delegateTarget&&n.call(t,i)}}var o=t("./closest");e.exports=i},{"./closest":1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e){function i(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(i))throw new TypeError("Third argument must be a Function");if(a.node(t))return n(t,e,i);if(a.nodeList(t))return o(t,e,i);if(a.string(t))return r(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function n(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function o(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function r(t,e,i){return s(document.body,t,e,i)}var a=t("./is"),s=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e){function i(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=i},{}],6:[function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){o.off(t,n),e.apply(i,arguments)}var o=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;for(n;o>n;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var r=0,a=n.length;a>r;r++)n[r].fn!==e&&n[r].fn._!==e&&o.push(n[r]);return o.length?i[t]=o:delete i[t],this}},e.exports=i},{}],7:[function(e,i,n){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof n)r(i,e("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=i(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:5}],8:[function(e,i,n){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof n)r(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=o(e),u=o(i),d=o(n),p=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function(t){function e(t,i){r(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return s(e,t),p(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d["default"])(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}(u["default"]);t.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){$(function(){var e,i,n,o,r,a,s,l;return $(".edit-citation").on("click",function(t){return t.preventDefault(),$(".manual-element").removeClass("hidden"),$("#tips-guide").addClass("hidden"),$(".citations").addClass("hidden")}),$("form.eswitch").on("ajax:success",function(t,e){return $(this).find(".eswitch-search-button").replaceWith(e)}),$('input[name="item[origin]"]').on("click",function(){var t,e,i,n;for(n=["print","online","database"],t=0,e=n.length;e>t;t++)i=n[t],$(this).parents(".item-form.manual-element").removeClass(i);return $(this).parents(".item-form.manual-element").addClass($(this).val())}),$('.edition input.radio_buttons[name="item[edition]"]').on("click",function(){var t,e,i,n;for(e=["no","reprint","revised"],i=0,n=e.length;n>i;i++)t=e[i],$(this).parents(".edition").removeClass(t);return $(this).parents(".edition").addClass($(this).val())}),$("#footnote_pages").on("propertychange change click keyup input paste",function(){return s()}),l=function(){var e,i,o;return o="mla"===n()?" ":", ",i=$("#parenthetical_box li").map(function(){var e,i;if(e=$(this),!e.find('input[type="checkbox"]').prop("checked"))return null;if(i=e.find("input[id]").val(),""===i)return null;switch(e.find("label").html()){case t(i18n.locale+".items.contributors"):return i;case t(i18n.locale+".items.title"):return $("#parenthetical_box").hasClass("book")?"<i>"+i+"</i>":'"'+i+'"';case t(i18n.locale+".items.pages"):return"apa"===n()?i.match(/-/)?i18n.t("items.abbreviations.pages",{pages:i}):i18n.t("items.abbreviations.page",{page:i}):i;default:return i}}),e="("+i.get().join(o)+")",$("#parenthetical_citation").html(e)},s=function(){var t,e,i,n,o,r;return i=$("#footnote_citation"),r=i.data("citationBody"),n=$("#footnote_pages").val(),t=document.createElement("div"),t.innerHTML=n,o=t.textContent||t.innerText||"",e=r.replace("|PAGE|",o),e=e.replace(/[,\.\s]+$/,"."),i.html(e)},e=function(){switch(i()){case"book":case"magazine":case"newspaper":case"journal":if($('#parenthetical_box input[type="checkbox"][name="contributors"]').attr("checked",!0),$('#parenthetical_box input[type="checkbox"][name="pages"]').attr("checked",!0),"apa"===n())return $('#parenthetical_box input[type="checkbox"][name="year"]').attr("checked",!0);break;case"website":if($('#parenthetical_box input[type="checkbox"][name="contributors"]').attr("checked",!0),"apa"===n())return $('#parenthetical_box input[type="checkbox"][name="year"]').attr("checked",!0);break;case"film":if($('#parenthetical_box input[type="checkbox"][name="title"]').attr("checked",!0),"apa"===n())return $('#parenthetical_box input[type="checkbox"][name="director"]').attr("checked",!0)}},n=function(){return $("#parenthetical_box").hasClass("mla")?"mla":"apa"},i=function(){return $("#parenthetical_box").hasClass("book")?"book":$("#parenthetical_box").hasClass("magazine")?"magazine":$("#parenthetical_box").hasClass("newspaper")?"newspaper":$("#parenthetical_box").hasClass("website")?"website":$("#parenthetical_box").hasClass("journal")?"journal":$("#parenthetical_box").hasClass("film")?"film":void 0},$("#parenthetical_box").length>0&&e(),$("#footnote_citation").length>0&&s(),o=function(){return $(".control-group.item_city, .control-group.item_section, .control-group.item_edition, .control-group.item_page_numbers").show(),$(".control-group.item_url").hide()},r=function(){return $(".control-group.item_city, .control-group.item_section, .control-group.item_edition, .control-group.item_page_numbers").hide(),$(".control-group.item_url").show()},a=function(){var e;return e=$('input[name="item[medium]"]:checked'),e.length?e.val()===t(i18n.locale+"items.print")?o():r():void 0},a(),$('input[name="item[medium]"]').change(function(){return $(this).val()===i18n.t("items.print")?o():r()})})}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.CMModal=function(){function t(t,e,i){this.title=t,this.content=e,this.footer=i,this.el=jQuery('<div class="modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n          <span aria-hidden="true">&times;</span>\n          <span class="sr-only">'+i18n.t("modal.close")+"</span>\n        </button>\n        "+(this.title?"<h4 class='modal-title'>"+this.title+"</h4>":"")+'\n      </div>\n      <div class="modal-body">\n        '+(this.content?this.content:"")+'\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal">'+i18n.t("modal.close")+"</button>\n        "+(this.footer?this.footer:"")+"\n      </div>\n    </div>\n  </div>\n</div>"),jQuery("body").append(this.el)}return t.prototype.show=function(){return jQuery(this.el).modal("show")},t.prototype.hide=function(){return jQuery(this.el).modal("hide")},t}(),this.CMCustomModal=function(e){function i(t){this.content=t,this.el=jQuery('<div class="modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      '+(this.content||"")+"\n    </div>\n  </div>\n</div>"),jQuery("body").append(this.el)}return t(i,e),i}(this.CMModal)}.call(this),function(){$(function(){var t;return t=function(t,e){return t.find(".japa, .jchicago, .jturabian, .jmla").addClass("hidden"),t.find(".j"+e).removeClass("hidden")},$("select#title_page_style").change(function(){return t($(this).closest("form"),$(this).val())}),t($("#new_title_page"),"apa")})}.call(this),function(){var t,e;e={forms:{searching_placeholder:"Sending you to the appropriate form...",pubdatabase:{placeholder:{keyword:"Type keyword here",path:"Ex: Science; Biology; Birds",url:"http://"}},blog:{contrib_titles:{author:"Article author",commenter:"Commenter",reviewer:"Reviewer",reviewed:"Work author",interviewee:"Interviewee",interviewer:"Interviewer",editor:"Site editor"}},click_pub_tab:{online_database:"Online database",online:"Online",website:"Website",from_a_website:"From a website"}},items:{title:"Title",pages:"Pages",contributors:"Contributors",abbreviations:{pages:"pp. {pages}",page:"p. {page}"},print:"Print",confirmation:{headline:"Here's what we found!",could_find:"We found citation data for",could_not_find:"We could not find",explanation:"We may not have all the information we need to create the citation. Please use the next page to fill in any empty fields.",submit:"Final Step",label_html:'<span style="font-weight:500; display:inline-block; width:30%;">%{key}</span> %{value}',fields:{book:{book:{title:"Book Title"},pubnonperiodical:{title:"Book Title",publisher:"Book Publisher",year:"Publication Year",month:"Publication Month",day:"Publication Day"}},website:{website:{title:"Article Title"},pubonline:{url:"URL",displayurl:"URL",title:"Website Title",day:"Publication Day",month:"Publication Month",year:"Publication Year",datepublished:"Date Published",dayaccessed:"Access Day",monthaccessed:"Access Month",yearaccessed:"Access Year",dateaccessed:"Date Accessed"},other:{sponsor:"Publisher/Sponsor"}},journal:{journal:{title:"Article Title"},pubjournal:{title:"Journal Title",year:"Publication Year",month:"Publication Month",day:"Publication Day"}}}}},modal:{close:"Close"},search:{website:{header:"Sorry! No Results Found!",description:"If you're not redirected to a form where you can <a href='{link}'>manually create your citation</a> in a few seconds, click the button below."},other:{header:"Sorry! No Results Found! Try Again?",description:"Try searching again, or you can <a href='{link}'>manually create your citation</a> instead."}}},"undefined"!=typeof window&&(window.i18n||(window.i18n={}),(t=window.i18n).translations||(t.translations={}),window.i18n.translations.en=e)}.call(this);var base,translations;translations={forms:{pubdatabase:{placeholder:{keyword:"Escrible aqu\xed la palabra clave",path:"Ej: Ciencia;Biolog\xeda; P\xe1jaros",url:"http://"}},blog:{contrib_titles:{author:"Art\xedculo de autor",commenter:"Comentarista",reviewer:"Critico",reviewed:"Trabajo de autor",interviewee:"Entrevistado",interviewer:"Entrevistador",editor:"Editor del sitio"}},click_pub_tab:{online_database:"Base de datos en l\xednea",online:"En l\xednea",website:"Sitio Web",from_a_website:"Desde un Sitio web"},searching_placeholder:'\u201cenviandote al formulario correcto..."'},items:{title:"T\xedtulo",pages:"P\xe1ginas",abbreviations:{pages:"pp. {pages}",page:"p. {page}"},print:"Imprimir"},modal:{close:"Cerrar"}},"undefined"!=typeof window&&(window.i18n||(window.i18n={}),(base=window.i18n).translations||(base.translations={}),window.i18n.translations.es=translations),function(){"use strict";var t=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e=function(t){return"object"==typeof t&&null!==t},i=function(t){return"[object String]"===Object.prototype.toString.call(t)},n=function(t,e){if(t){e=e.slice(0);var i=e.shift();return t=t[i],e.length>0?n(t,e):t}};window.libTranslate={getTranslationFunction:function(o,r){function a(t){var e=t.split(u),i=n(o,e);return i?i:null}function s(t,i){if(e(t)){var n,o=Object.keys(t);if(0===o.length)return c&&console.log("[Translation] No plural forms found."),null;for(var r=0;r<o.length;r++)0===o[r].indexOf("gt")&&(n=parseInt(o[r].replace("gt",""),10));t[i]?t=t[i]:i>n?t=t["gt"+n]:t.n?t=t.n:(c&&console.log('[Translation] No plural forms found for count:"'+i+'" in',t),t=t[Object.keys(t).reverse()[0]])}return t}function l(t,e){return i(t)?t.replace(/\{(\w*)\}/g,function(t,i){return e.hasOwnProperty(i)?e.hasOwnProperty(i)?e[i]:i:(c&&console.log('Could not find replacement "'+i+'" in provided replacements object:',e),"{"+i+"}")}):t}r=e(r)?r:{};var c=r.debug,u=r.namespaceSplitter||"::";return function(i){var n=e(arguments[1])?arguments[1]:e(arguments[2])?arguments[2]:{},o=t(arguments[1])?arguments[1]:t(arguments[2])?arguments[2]:null,r=a(i);return null!==o&&(n.n=n.n?n.n:o,r=s(r,o)),r=l(r,n),null===r&&(r=c?"@@"+i+"@@":i,c&&console.log('Translation for "'+i+'" not found.')),r}}}}(),$(document).ready(function(){function t(){g.hide(),v.show(),p=v}function e(){v.hide(),g.show(),p=g}function i(){return $.isEmptyObject(h)?"":"?"+jQuery.param(h)}function n(t){l=t,p.find("li").removeClass("style-search-result-selected"),c=p.find("li[data-index="+l+"]").addClass("style-search-result-selected")}function o(){b.css({top:m.offset().bottom+"px"}),l=0,d="index",h={},p=v,y(),m.val("")}function r(){l=0,h={},p=g,d="search"}function a(){$("#close-other-style-search").hide(),o(),$("#other-style-search-box").animate({right:$("#other-style-search-box").parent().width()-15},function(){$("#other-style-search-box").hide()})}function s(){h.p=f.p?f.p+1:2,y(!0)}if(!window.USER_API_FRONTEND_CONFIG||!/\/bibliographies/.test(window.location.pathname)){var l,c,u,d,p,h,f,m=$("#style-search-bar"),b=$("#style-search-results"),g=b.find("ul#search-styles"),v=b.find("ul#all-styles"),y=debounce(function(){"index"==d?t():(h.q=m.val(),f.q!=h.q&&(h.p=1),e()),JSON.stringify(h)!=JSON.stringify(f)&&$.ajax({type:"GET",dataType:"json",url:"/search"+i(),context:h}).done(function(t){u!==t&&(t.page&&1!=t.page?(u.count=u.count+t.results.length,u.results=u.results.concat(t.results),u.page=t.page):(p.find("li").remove(),u=t,l=0),$.each(u.results,function(t,e){0==p.find("li[data-index="+(t+1)+"]").length&&($url=window.location.pathname.includes("bibliographies")?e.url+"?ref="+e.code:e.url,p.append($("<li>").attr("class","style-search-result").attr("data-index",t+1).attr("data-url",$url).text(e.name)).show())})),f=$.extend({},this),b.css({visibility:"visible"})}).fail(function(){})},200);$("#other-style-search").on("click",function(){$("#other-style-search-box").hide().css({right:$("#other-style-search-box").parent().width()-15}).show().animate({right:15},1e3,"swing",function(){o(),m.focus(),$("#close-other-style-search").show(),t(),b.css({visibility:"visible"})})}),$("#close-other-style-search").on("click",a),m.on("focusout",a),$("#switch-format-dropdown-toggle").on("click",function(){setTimeout(function(){o(),m.focus(),$("#close-other-style-search").show(),t(),b.css({visibility:"visible"})},50)}),m.on("click",function(t){o(),$(this).focus(),t.stopPropagation()}),m.on("keydown",function(t){if(13==t.which){if(0!==l)return window.location.href=p.find("li[data-index="+l+"]").data("url"),!1}else if(27==t.which)"hidden"!=b.css("visibility")?(b.css({visibility:"hidden"}),l=0,u={}):a();else if(38==t.which&&l>0)n(l-1),c[0].offsetTop<p.scrollTop()&&(p[0].scrollTop=c[0].offsetTop);else if(40==t.which)if(l<u.count)n(l+1),p.height()+p.scrollTop()<c[0].offsetTop+c.outerHeight()&&(p[0].scrollTop=c[0].offsetTop+c.outerHeight()-p.height()),l+3>u.count&&s();else{if(l==u.total)return!1;l==u.count&&s()}}),m.on("keyup",function(){0==$(this).val().length&&"search"==d?(o(),t()):0!=$(this).val().length&&("index"==d&&r(),y())}),$("#interactive-styles ul").on("mousewheel scroll",function(t){p[0].scrollHeight==p.outerHeight()+p.scrollTop()&&u.count<u.total&&(s(!0),t.stopPropagation(),t.preventDefault())}),$("#interactive-styles ul").on("mouseenter","li",function(){l=$(this).data("index"),p.find("li").removeClass("style-search-result-selected"),p.find("li[data-index="+l+"]").addClass("style-search-result-selected")}),$("#interactive-styles ul").on("mousedown","li",function(){return window.location.href=p.find("li[data-index="+l+"]").data("url"),!1})}}),$(document).ready(function(){function t(t){braintree.client.create({authorization:t},function(t,i){braintree.paypal.create({client:i},function(t,i){e.addEventListener("click",function(){i.tokenize({flow:"vault",locale:"en_US",enableShippingAddress:!1,shippingAddressEditable:!1},function(t,e){var i=$("#payment-form");t?(i.find(".payment-errors").text(response.error.message),i.find("button, input[type=submit]").prop("disabled",!1)):(i.append($('<input type="hidden" name="braintreeToken" />').val(e.nonce)),i.append($('<input type="hidden" name="provider" />').val("braintree")),i.attr("action","/charges").attr("method","post"),i.get(0).submit())})})})})}var e=document.getElementById("paypal-checkout");null!==e&&$.get("/api/v1/braintree_client/client_token",function(e){t(e.token)})}),$(document).on("click","a.contrib_remove",function(){var t=$(".contributors_table_row").size();t>1?$(this).parent().parent().remove():$(this).parent().parent().find("input").val("")}),$(document).ready(function(){function t(){$(".pub").hide(),$("#pubtype").val(""),$("#pubsuffix").val("")}function e(t){var e=t.split("_");"main"==e[0]&&("pubnone"!=e[1]&&($("#pubtype").val(e[1]),$("."+o+"suffixhide").show()),$("."+e[1]).show()),"suffix"==e[0]&&($("#pubsuffix").val(e[1]),$("."+e[1]).show(),$("."+o+"suffixhide").hide().find("input, select").val("")),"main"==e[2]&&($("#pubtype").val(e[3]),$("."+e[3]).show(),$("."+o+"suffixhide").show()),"suffix"==e[2]&&($("#pubsuffix").val(e[3]),$("."+e[3]).show(),$("."+o+"suffixhide").hide().find("input, select").val(""))}function i(t){$(".tabheader div").each(function(){var e=$(this).text();"pubdatabase"==t?e==i18n.t("forms.click_pub_tab.online_database")&&$(this).parent().click():"pubonline"==t&&(e!=i18n.t("forms.click_pub_tab.online")&&e!=i18n.t("forms.click_pub_tab.website")&&e!=i18n.t("forms.click_pub_tab.from_a_website")||$(this).parent().click())})}$("#source, #style").on("change",function(){location.href="form?style="+$("#style").val()+"&source="+$("#source").val()}),$("#create_citation").on("click",function(){$("#citation_form").submit()});var n=!0;$("#redirect_pulldown_cancel").on("click",function(){n=!1,$("#redirect_pulldown_message").hide()}),$(".redirect_pulldown").change(function(){var t=$(this).val(),e="",i=$(this).attr("id")||"";i.length>0&&(e=i.split("_"),e=e[1]);var o=t.split("_");if(("undefined"==typeof o[0]||"jstor"!==o[0])&&($("[data-id=source-form]").hide(),t.length>1)){$("#redirect_pulldown_message").slideDown(),n=!0,$("[data-id=search-result-headline]").hide();var r=$("[data-id=results]");0==r.length&&(r=$('<div data-id="results" class="results" ></div>'),$("#content").append(r)),r.html('<div class="results-message" data-id="searching-for-results">'+i18n.t("forms.searching_placeholder")+"</div>"),setTimeout("pubFormRedirect('"+$("#source").val()+"','"+t+"', '"+e+"')",900)}}),$("#check-wellknown").on("click",function(){$("#section-wellknown").slideToggle("slow")});var o=$("#citation_form").data("style");if("apa"===o){var r=$("#source").val();"dictionary"!=r&&"encyclopedia"!=r||($("#main_pubnonperiodical_suffix_pubonline").on("click",function(){$(".pubnonperiodical_vol, .pubnonperiodical_publisher, .pubnonperiodical_city, .pubnonperiodical_state").parent().hide().find("input").val(""),$(".pubnonperiodical_start").parent().parent().parent().parent().parent().parent().hide().find("input").val("")}),$("#main_pubnonperiodical, #main_pubnonperiodical_suffix_pubdatabase").on("click",function(){$(".pubnonperiodical_vol, .pubnonperiodical_publisher, .pubnonperiodical_city, .pubnonperiodical_state").parent().show(),$(".pubnonperiodical_start").parent().parent().parent().parent().parent().parent().show()})),"book"!=r&&"chapter"!=r&&"introduction"!=r&&"brochure"!=r&&"report"!=r||($("#main_pubnonperiodical_suffix_pubonline").on("click",function(){$(".pubnonperiodical_publisher, .pubnonperiodical_city, .pubnonperiodical_state").parent().hide().find("input").val(""),$(".pubnonperiodical_start").parent().parent().parent().parent().parent().parent().hide().find("input").val("")}),$("#main_pubnonperiodical, #main_pubnonperiodical_suffix_pubdatabase").on("click",function(){$(".pubnonperiodical_publisher, .pubnonperiodical_city, .pubnonperiodical_state").parent().show(),$(".pubnonperiodical_start").parent().parent().parent().parent().parent().parent().show()}))}$(".slip-page").hide(),$(".slip-yes").on("click",function(){$(".slip-page").show(),$(".noslip-pub").hide()}),$(".slip-no").on("click",function(){$(".slip-page").hide(),$(".noslip-pub").show()}),$(".slip-page").hide(),$(".noslip-pub").show(),$(".db_elements").hide(),$(".db-recfoundyes").hide(),$(".db-yes").on("click",function(){$(".db_elements").show()}),$(".db-no").on("click",function(){$(".db_elements").hide()}),$(".recfound-yes").on("click",function(){$(".db-recfoundyes").show(),$(".db-recfoundno").hide()}),$(".recfound-no").on("click",function(){$(".db-recfoundyes").hide(),$(".db-recfoundno").show()}),"journal"==$("#source").val()&&"mla7"==$("#style").val()&&($("#main_pubjournal_suffix_pubonline_2").on("click",function(){$(".pubonline tr").each(function(t){1!=t&&2!=t&&4!=t||$(this).hide()})}),$("input#main_pubjournal_suffix_pubonline").on("click",function(){$(".pubonline tr").show()})),$(".interview-personalsection").hide(),$(".interview-personal").on("click",function(){$(".interview-othersection").hide(),$(".interview-personalsection").show()}),$(".interview-other").on("click",function(){$(".interview-othersection").show(),$(".interview-personalsection").hide()}),$(".report-ericntis").hide(),$(".report-ericntis-yes").on("click",function(){$(".report-ericntis").show()}),$(".report-ericntis-no").on("click",function(){$(".report-ericntis").hide()}),$(".report_type").on("click",function(){$(".report_label_number").find("label").text("Number:")}),$(".report_type_custom").on("click",function(){$(".report_label_number").find("label").text("Description:")}),$(".photo-personal").hide(),$(".photo-type").find("input").on("click",function(){"personal"==$(this).val()?($(".photo-personal").show(),$(".photo-impersonal").hide(),$(".photo-impersonal").find("input").each(function(){$(this).val(""),$(this).attr("checked","")})):($(".photo-impersonal").show(),$(".photo-personal").hide(),$(".photo-personal").find("input").each(function(){$(this).val(""),$(this).attr("checked","")}))}),$("#pubdatabase_keyword").on("click",function(){$("#pubdatabase_searchtext").attr("placeholder",i18n.t("forms.pubdatabase.placeholder.keyword")).select()}),$("#pubdatabase_path").on("click",function(){$("#pubdatabase_searchtext").attr("placeholder",i18n.t("forms.pubdatabase.placeholder.path")).select()}),$("#pubdatabase_url").on("click",function(){$("#pubdatabase_searchtext").attr("placeholder",i18n.t("forms.pubdatabase.placeholder.url"))}),"undefined"!=typeof $(".pubdatabase_autocomplete").autocomplete&&$(".pubdatabase_autocomplete").autocomplete("/rest/dblist",{delay:400,width:300,minChars:4,max:20}).result(function(t,e){var i=e.toString().split(" ["),n=i[0],o=i[1].substring(0,i[1].length-1);$(".pubdatabase_db").val(n),$(".pubdatabase_service").val(o)}),$(".blog-posttype").find("input").on("click",function(){var t="blog-"+$(this).val();$(".blog-sections, .blog-contrib").find("input").each(function(){$(this).val(""),$(this).attr("checked","")}),$(".blog-sections").hide(),$("."+t).show();var e=new Object;"blog-comment"==t?e.author=i18n.t("forms.blog.contrib_titles.commenter"):"blog-review"==t?(e.reviewer=i18n.t("forms.blog.contrib_titles.reviewer"),e.reviewed=i18n.t("forms.blog.contrib_titles.reviewed")):"blog-interview"==t?(e.interviewee=i18n.t("forms.blog.contrib_titles.interviewee"),e.interviewer=i18n.t("forms.blog.contrib_titles.interviewer")):e.author=i18n.t("forms.blog.contrib_titles.author"),"mla7"!=$("#style").val()&&"mla"!=$("#style").val()||(e.editor=i18n.t("forms.blog.contrib_titles.editor"));var i=$("select[name^='contributors[function']");i.empty();for(var n in e){var o='<option value="'+n+'">'+e[n]+"</option>";i.append(o)}}),$(".song").hide(),$(".musicalrecording-song").on("click",function(){$(".song").show(),$(".band").hide(),$(".wholerecording").hide().find("input, select").val("")}),$(".musicalrecording-whole").on("click",function(){$(".song").hide().find("input, select").val(""),$(".wholerecording").show(),$(".band").show()}),"musicalrecording"==$("#source").val()&&$(".tabheader").on("click",function(){"suffix_pubonline"==$(this).attr("id")?$(".recording_type").hide().find("input").attr("checked",!1):$(".recording_type").show()}),"conference"==$("#source").val()&&$(".tabheader").on("click",function(){"main_pubmagazine"==$(this).attr("id")?$(".conference_element").hide():$(".conference_element").show()}),"film"==$("#source").val()&&($(".tabheader:not(#main_pubfilm_suffix_pubdatabase)").on("click",function(){$(".pubfilm_mediatype").show()}),$("#main_pubonline, #main_pubfilm_suffix_pubonline").on("click",function(){1==$("#main_pubfilm_suffix_pubonline").attr("checked")?$(".pubfilm_mediatype").hide().find("input").attr("checked",!1):$(".pubfilm_mediatype").show()}),$(".tabheader#main_pubfilm_suffix_pubdatabase, .pubsuffixheader#main_pubfilm_suffix_pubdatabase").on("click",function(){$(".pubfilm_mediatype").hide().find("input").attr("checked",!1)}),$("#mediatypeothervalue").focus(function(){$("#mediatypeother").attr("checked",!0)})),$(".fedbill_unenacted").hide(),$("#fedbill_unenacted").on("click",function(){$(".fedbill_unenacted").show(),$("input[name^=pubfederal[source]").parent().parent().parent().parent().parent().parent().hide(),$("input[name^=pubfederal[vol]").parent().parent().parent().parent().parent().parent().hide(),$("input[name^=pubfederal[start]").parent().parent().parent().parent().parent().parent().hide()}),$("#fedbill_enacted").on("click",function(){$(".fedbill_unenacted").hide(),$("input[name^=pubfederal[source]").parent().parent().parent().parent().parent().parent().show(),$("input[name^=pubfederal[vol]").parent().parent().parent().parent().parent().parent().show(),$("input[name^=pubfederal[start]").parent().parent().parent().parent().parent().parent().show()}),$("#statute_uncodified").on("click",function(){$(".statute_uncodified").show(),$(".statute_codified").hide(),$("input[name^=pubfederal[congress]").parent().show()}),$("#statute_codified").on("click",function(){$(".statute_codified").show(),$(".statute_uncodified").hide(),$("input[name^=pubfederal[congress]").parent().hide()}).click(),$(".tv_notitle_radio").on("click",function(){$(".tv_notitle").hide().val("")}),$(".tv_title_radio").on("click",function(){$(".tv_notitle").show()}),"tv"==$("#source").val()&&$(".tabheader").on("click",function(){$(".pubtvr_mediatype").show(),"main_pubtvr_suffix_pubonline"==$(this).attr("id")&&$(".pubtvr_mediatype").hide().find("input").attr("checked",!1)}),$("#form_load_msg").slideUp();var o=$("#style").val();$(".tabheader").on("click",function(){t();var i=$(this).attr("id");$(".puboptions_"+i).show();var n=$(".puboptions_"+i+" input:checked").eq(0).attr("id");e(n?n:i),$(".tabactive").addClass("tabinactive"),$(".tabactive").removeClass("tabactive"),$(this).addClass("tabactive"),$(this).removeClass("tabinactive")}),$(".pubsuffixheader").on("click",function(){t(),e($(this).attr("id"));var i=$(".tabactive").attr("id");$(".puboptions_"+i).show()}),$(".tabheaders .tabactive").click(),"undefined"!=typeof pubtab&&""!=pubtab&&i(pubtab),$("a.contrib_add").on("click",function(){var t=$(".contributors_table_row:last"),e=t.clone();return e.find("input").each(function(){$(this).val("")}),t.after(e),e.find(".contributors_first:last").eq(0).focus(),!1});var a=function(t){$("a.today",t).on("click",function(){var t=new Date,e=parseInt(t.getDate()),i=t.getMonth()+1,n=t.getFullYear(),o=$(this).parent().parent();return o.find("input.day").eq(0).val(e),o.find("select.month").eq(0).prop("selectedIndex",i),o.find("input.year").eq(0).val(n),a(this),!1})};if($("#annotation-link").on("click",function(){$("#annotation").slideToggle()}),a($(document)),("undefined"==typeof prepopulate||0==prepopulate.length)&&"undefined"==typeof edit){var r=$("#source").val();"chapter"!=r&&"introduction"!=r&&"collection"!=r||($(".contrib_add:last").click(),$(".contributors_function:last").val("author"),"chapter"==r&&$(".contributors_function:last").val("editor"))}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function i(t){return s.raw?t:decodeURIComponent(t)}function n(t){return e(s.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(e){}}function r(e,i){var n=s.raw?e:o(e);return t.isFunction(i)?i(n):n}var a=/\+/g,s=t.cookie=function(o,a,l){if(arguments.length>1&&!t.isFunction(a)){if(l=t.extend({},s.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*c)}return document.cookie=[e(o),"=",n(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("");
}for(var d=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;f>h;h++){var m=p[h].split("="),b=i(m.shift()),g=m.join("=");if(o===b){d=r(g,a);break}o||void 0===(g=r(g))||(d[b]=g)}return d};s.defaults={},t.removeCookie=function(e,i){return t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e)}}),function(t,e){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return m(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function r(t,e){return b.call(t,e)}function a(t){return!r(g,t)}function s(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return v[t]})}function l(e,i){function o(){if(g&&!v)for(;b.length;)delete f[b.pop()];else b=[];g=!1,v=!1}function r(t){if("string"==typeof t&&(t=t.split(_,2)),!m(t)||2!==t.length)throw new Error("Invalid tags: "+t);s=new RegExp(n(t[0])+"\\s*"),l=new RegExp("\\s*"+n(t[1])),p=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var s,l,p,h=[],f=[],b=[],g=!1,v=!1;r(i||t.tags);for(var x,T,C,S,E,j,O=new d(e);!O.eos();){if(x=O.pos,C=O.scanUntil(s))for(var A=0,N=C.length;N>A;++A)S=C.charAt(A),a(S)?b.push(f.length):v=!0,f.push(["text",S,x,x+1]),x+=1,"\n"===S&&o();if(!O.scan(s))break;if(g=!0,T=O.scan(k)||"name",O.scan(y),"="===T?(C=O.scanUntil(w),O.scan(w),O.scanUntil(l)):"{"===T?(C=O.scanUntil(p),O.scan($),O.scanUntil(l),T="&"):C=O.scanUntil(l),!O.scan(l))throw new Error("Unclosed tag at "+O.pos);if(E=[T,C,x,O.pos],f.push(E),"#"===T||"^"===T)h.push(E);else if("/"===T){if(j=h.pop(),!j)throw new Error('Unopened section "'+C+'" at '+x);if(j[1]!==C)throw new Error('Unclosed section "'+j[1]+'" at '+x)}else"name"===T||"{"===T||"&"===T?v=!0:"="===T&&r(C)}if(j=h.pop())throw new Error('Unclosed section "'+j[1]+'" at '+O.pos);return u(c(f))}function c(t){for(var e,i,n=[],o=0,r=t.length;r>o;++o)e=t[o],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function u(t){for(var e,i,n=[],o=n,r=[],a=0,s=t.length;s>a;++a)switch(e=t[a],e[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":i=r.pop(),i[5]=e[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(e)}return n}function d(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function h(){this.cache={}}var f=Object.prototype.toString,m=Array.isArray||function(t){return"[object Array]"===f.call(t)},b=RegExp.prototype.test,g=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,_=/\s+/,w=/\s*=/,$=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},d.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var r,a,s=this,l=!1;s;){if(t.indexOf(".")>0)for(i=s.view,r=t.split("."),a=0;null!=i&&a<r.length;)a===r.length-1&&(l=o(i,r[a])),i=i[r[a++]];else i=s.view[t],l=o(s.view,t);if(l)break;s=s.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},h.prototype.render=function(t,e,i){var n=this.parse(t),o=e instanceof p?e:new p(e);return this.renderTokens(n,o,i,t)},h.prototype.renderTokens=function(t,e,i,n){for(var o,r,a,s="",l=0,c=t.length;c>l;++l)a=void 0,o=t[l],r=o[0],"#"===r?a=this.renderSection(o,e,i,n):"^"===r?a=this.renderInverted(o,e,i,n):">"===r?a=this.renderPartial(o,e,i,n):"&"===r?a=this.unescapedValue(o,e):"name"===r?a=this.escapedValue(o,e):"text"===r&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},h.prototype.renderSection=function(t,i,n,o){function r(t){return a.render(t,i,n)}var a=this,s="",l=i.lookup(t[1]);if(l){if(m(l))for(var c=0,u=l.length;u>c;++c)s+=this.renderTokens(t[4],i.push(l[c]),n,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],i.push(l),n,o);else if(e(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,o.slice(t[3],t[5]),r),null!=l&&(s+=l)}else s+=this.renderTokens(t[4],i,n,o);return s}},h.prototype.renderInverted=function(t,e,i,n){var o=e.lookup(t[1]);return!o||m(o)&&0===o.length?this.renderTokens(t[4],e,i,n):void 0},h.prototype.renderPartial=function(t,i,n){if(n){var o=e(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},h.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);return null!=i?i:void 0},h.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);return null!=n?t.escape(n):void 0},h.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var x=new h;t.clearCache=function(){return x.clearCache()},t.parse=function(t,e){return x.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return x.render(t,e,n)},t.to_html=function(i,n,o,r){var a=t.render(i,n,o);return e(r)?void r(a):a},t.escape=s,t.Scanner=d,t.Context=p,t.Writer=h});var environment=function(t){return t.match(/playground|localhost|local/)?".playground.":"."}(window.location.hostname);CitationService.prototype.search=function(){var t=this,e=t.site_code,i=t.item_class,n="https:";if(t.auth){var o=n+t.resource+$.param(t.parameters.query);$.ajax({url:o,headers:{Authorization:"Bearer ZesPMJxgtDZEmcETTqfZuD5pkVQCN9"},timeout:1e4,success:function(n){n.data.display.title=n.data.data.website.title,n.data.display.url=n.data.data.pubonline.url,n.data.display.displayurl=n.data.data.pubonline.url,n.results={1:n.data},t.parameters.query.search=t.parameters.query.url,t.renderResults(n.results,i,e)},error:function(e){trackJs.track(e),t.noResultsFound()}})}else $.getJSON(n+t.resource+"?"+$.param(t.parameters.query),function(n){t.renderResults(n.results,i,e)}).fail(function(){t.noResultsFound()})},CitationService.prototype.noResultsFound=function(){var t="bibme"==this.site_code?"/"+this.style+"/"+this.item_class+"-citation/new":"/"+this.style+"/cite-a-"+this.item_class+"/manual";"Website"==this.item_class?($h2=$("<h2>"+i18n.t("search.website.header")+"</h2>"),$text=i18n.t("search.website.description",{link:t})):($h2=$("<h2>"+i18n.t("search.other.header")+"</h2>"),$text=i18n.t("search.other.description",{link:t})),$button='<br><form method="link" action="'+t+'"><button class="button-primary btn btn-yellow" style="font-size: 21px; line-height: 21px; padding:0.5em; margin-top:1em;">Create a Citation</button></form>',$("#search-results").append($h2),$("#search-results").append($text),$("#search-results").append($button),"Website"==this.item_class&&setTimeout("location.href = "+t,5e3)},CitationService.prototype.renderResults=function(t,e,i){function n(t){return JSON.stringify(t).replace(/[']/g,"").replace(/\\n/g,"\\n").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")}function o(t,e){return fields=[],contributors=e.contributors,jQuery.isEmptyObject(contributors)||(authors=[],$.each(contributors,function(t){var e=contributors[t];authors.push(e.first+" "+e.last)}),fields.push(authors.join("-"))),t.hasOwnProperty("url")&&fields.push(t.displayurl),t.hasOwnProperty("publisher")&&fields.push(t.publisher),t.hasOwnProperty("published_date")&&fields.push(t.published_date),t.hasOwnProperty("year")&&fields.push(t.year),fields.join(" - ")}var r=this,a="<li class=''>     <form action='{{#form_path}}{{/form_path}}' accept-charset='UTF-8' method='post'>       <input type='hidden' name='utf8'>       <input type='hidden' name='authenticity_token' value='{{authenticity_token}}'>       <input type='hidden' name='q' value='{{query}}'>       <input type='hidden' name='item_json' id='item_json' value='{{raw_json}}'>       <input type='hidden' name='item_class' id='item_class' value='{{item_class}}'>       <input type='hidden' name='item_url' id='item_url' value='{{url}}'>       <input type='hidden' name='item_display' id='item_display' value='{{display}}'>       <button class='{{#site_style}}{{/site_style}}' type='submit'>Select</button>       <h5 class='{{item_class}}-title result-title'>{{title}}</h5>       <span class='result-subtitle'>{{#subtitle}}{{/subtitle}}</span>     </form>     {{#locate_book}}{{/locate_book}}     {{#journal}}{{raw_json}}{{/journal}}   </li>",s="<div class='row search-result {{item_class}}-result'>     <div class='col-md-8 col-sx-9 search-result-text'>       <h5 class='{{item_class}}-title result-title'>{{title}}</h5>       <span class='result-subtitle'>{{#subtitle}}{{/subtitle}}</span>       {{#locate_book}}{{/locate_book}}       {{#journal}}{{raw_json}}{{/journal}}     </div>     <div class='col-md-4 col-xs-3'>       <form action='{{#form_path}}{{/form_path}}' accept-charset='UTF-8' method='post'>         <input type='hidden' name='utf8'>         <input type='hidden' name='authenticity_token' value='{{authenticity_token}}'>         <input type='hidden' name='q' value='{{query}}'>         <input type='hidden' name='item_json' id='item_json' value='{{raw_json}}'>         <input type='hidden' name='item_class' id='item_class' value='{{item_class}}'>         <input type='hidden' name='item_url' id='item_url' value='{{url}}'>         <input type='hidden' name='item_display' id='item_display' value='{{display}}'>         <button class='{{#site_style}}{{/site_style}}' type='submit'>Select</button>       </form>     </div>   </div>";if(jQuery.isEmptyObject(t))r.noResultsFound();else{$("#loading").hide();var l=Object.keys(t);$.each(l,function(l,c){var u=t[c],d={authenticity_token:$('meta[name="csrf-token"]').attr("content"),query:r.parameters.query.search,raw_json:String(n(u.data)),site_style:function(){return function(){return"bibme"==i?"btn select-source select-result":"select-result"}},item_class:e,form_path:function(){return function(){return"journal"==e||"website"==e||"book"==e?"/items/confirm":"/items/new"}},title:u.display.title,url:u.display.url,subtitle:function(){return function(){return o(u.display,u.data)}},display:function(){return String(JSON.stringify(u.display))},locate_book:function(){return function(){if("book"==e.toLowerCase()){var t=window.location.protocol,i=u.data.other.oclc;return"<a href='"+t+"//www.worldcat.org/oclc/"+i+"' target='_blank'>Find at your library</a>"}}},journal:function(){return function(){return"journal"==e.toLowerCase()?"<form class='eswitch' action='/eswitch' accept-charset='UTF-8' data-remote='true' method='post'>                 <input type='hidden' name='utf8'>                 <input type='hidden' name='item_json' id='item_json' value='"+String(n(u.data))+"'>                 <input type='submit' name='commit' value='Search for full-text' class='eswitch-search-button' >               </form>":void 0}}};$("form.eswitch").on("ajax:success",function(t,e){$(this).find(".eswitch-search-button").replaceWith(e)}),"citationmachine"==i?0==l?$("li.in-stream-ad-div").before(Mustache.render(a,d)):$("li.in-stream-ad-div").after(Mustache.render(a,d)):0==l?$("#rectangle_in_stream").before(Mustache.render(s,d)):$("#rectangle_in_stream").after(Mustache.render(s,d))})}},CitationService.status=function(){$.ajax({url:"https://httpbin.org/get",data:{},dataType:"json",success:function(t){console.dir(t)}})},CitationService.headers=function(){$.ajax({url:"https://httpbin.org/get",data:{},headers:{Authorization:"Bearer ZesPMJxgtDZEmcETTqfZuD5pkVQCN9"},dataType:"json",success:function(t){console.dir(t)}})},CitationService.fetch_autocite_info=function(t,e){function i(t){if(_.isUndefined(t))return[];var e=[];for(var i in t)if(_.isObject(t[i]))for(var n in t[i])e.push(i+"."+t[i][n]);else e=e.concat(t[i]);return e}function n(t){return i(c[t])}function o(t,e){var i=[];return _.each(n(t),function(t){i.push(r(t,e))}),_.compact(i)}function r(t,e){var i=t.split(".");return e.hasOwnProperty(i[0])&&e[i[0]].hasOwnProperty(i[1])&&e[i[0]][i[1]]?i[0]+"."+i[1]:void 0}function a(t,e){if("website"==e){for(var i={published:["pubonline.day","pubonline.month","pubonline.year"],accessed:["pubonline.dayaccessed","pubonline.monthaccessed","pubonline.yearaccessed"]},n={published:[],accessed:[]},o=0;o<t.length;o++){var r=t[o];_.contains(i.published,r)?n.published.push(r):_.contains(i.accessed,r)&&n.accessed.push(r)}n.published.length===i.published.length&&(t=_.difference(t,n.published),t.push("pubonline.datepublished")),n.accessed.length===i.accessed.length&&(t=_.difference(t,n.accessed),t.push("pubonline.dateaccessed"))}return t}function s(t,e){function i(t){return t?t[0].toUpperCase()+t.slice(1,t.length).toLowerCase():""}return"pubonline.dateaccessed"===e?[i(t.pubonline.monthaccessed),t.pubonline.dayaccessed+",",t.pubonline.yearaccessed].join(" "):"pubonline.datepublished"===e?[i(t.pubonline.month),t.pubonline.day+",",t.pubonline.year].join(" "):void 0}var l="<hr>     <div class='fields'>       <h4>{{found}}</h4>       <ul>{{#items_found}}{{/items_found}}</ul>     </div>     <div class='fields'>       <h4>{{not_found}}</h4>       <ul>{{#items_not_found}}{{/items_not_found}}</ul>     </div>",c={book:{pubnonperiodical:["title","publisher","year"]},journal:{pubjournal:["title","year","month","day"],journal:["title"]},website:{pubonline:["url","title","day","month","year","dayaccessed","monthaccessed","yearaccessed"],website:["title"],other:["sponsor"]}},u="https://autocite"+environment+"citation-api.com/index/json?",d=Math.floor(9e3*Math.random()+1e3),p=u+"autocite="+d+"&url="+encodeURIComponent(t.replace(/&amp;/g,"&"));if("website"==e){var h="";switch(window.location.hostname){case"local.easybib.com":h="123456";break;case"playground.easybib.com":h="anuZaem3ChaichuGhoh8gaiNeequee";break;default:h="ZesPMJxgtDZEmcETTqfZuD5pkVQCN9"}return"local.easybib.com"===window.location.hostname&&(p=p.replace("autocite.citation-api.com","autocite.playground.citation-api.com")),$.ajax({url:p,headers:{Accept:"application/vnd.com.easybib.data+json",Authorization:"Bearer "+h},timeout:1e4,success:function(t){var i=o(e,t.data.data),r=a(i,e),c={found:i18n.t("items.confirmation.could_find"),not_found:i18n.t("items.confirmation.could_not_find"),items_found:function(){return function(){var i=[];return _.each(r,function(n){var o,r=n.split("."),a=i18n.t("items.confirmation.fields."+e+"."+n);o="pubonline.datepublished"===n||"pubonline.dateaccessed"===n?s(t.data.data,n):t.data.data[r[0]][r[1]],i.push("<li><span style='font-weight:500; display:inline-block; width:30%;'>"+a+"</span>"+o+"</li>")}),i.join("")}},items_not_found:function(){return function(){var t=[],o=a(_.difference(n(e),i),e);return _.each(o,function(i){var n=(i.split("."),i18n.t("items.confirmation.fields."+e+"."+i));t.push("<li><span style='font-weight:500; display:inline-block; width:30%;'>"+n+"</span></li>")}),t.join("")}}};$(".eval").empty(),$("#item_json").val(String(JSON.stringify(t.data.data))),$(".eval").append(Mustache.render(l,c))},error:function(t){trackJs.track(t)}})}},CitationService.search=function(t,e,i){function n(t){switch(t){case t.match(/(cm|citationmachine)/).length>=1&&null!==t.match(/(cm|citationmachine)/)&&"undefined"!==t.match(/(cm|citationmachine)/):return"citationmachine";case t.match(/(bm|bibme)/).length>=1&&null!==t.match(/(bm|bibme)/)&&"undefined"!==t.match(/(bm|bibme)/):return"bibme";default:return""}}var o=Math.floor(9e3*Math.random()+1e3),r=function(t){switch(t){case"cmpro":return"citationmachine";case"citationmachine":return"citationmachine";case"bibme":return"bibme";default:return n(window.location.hostname.replace(/(.org|.net|.com|.local)/,""))}}($("body").attr("data-site-code")),a=function(t,e,i){switch(e){case"journal":return{resource:"//crossref"+environment+"citation-api.com/query",parameters:{query:{search:t,autocite:o}},item_class:e,style:i,site_code:r};case"magazine":return{resource:"//highbeam"+environment+"citation-api.com/query",parameters:{query:{search:t,srctype:"mags"}},item_class:e,style:i,site_code:r};case"website":return t=$.trim(t),t.match(/^(http:\/\/|https:\/\/|www\.)/)?{resource:"//autocite"+environment+"citation-api.com/index/json?",parameters:{query:{url:t,autocite:o}},item_class:e,style:i,auth:!0,site_code:r}:{resource:"//web"+environment+"citation-api.com/query",parameters:{query:{search:t,origin:r}},item_class:e,style:i,site_code:r};case"film":if(t=$.trim(t),t.match(/^www\./i)){return{resource:"//autocite"+environment+"citation-api.com/index/json?",parameters:{query:{url:t,autocite:o}},item_class:e,style:i,auth:!0,site_code:r}}return t.match(/^https?:/)?{resource:"//autocite"+environment+"citation-api.com/index/json?",parameters:{query:{url:t,autocite:o}},item_class:e,style:i,auth:!0,site_code:r}:{resource:"//worldcat"+environment+"citation-api.com/query",parameters:{query:{search:t,srctype:e,origin:r}},item_class:e,style:i,site_code:r};case"newspaper":return{resource:"//highbeam"+environment+"citation-api.com/query",parameters:{query:{search:t,srctype:"news"}},item_class:e,style:i,site_code:r};default:return{resource:"//worldcat"+environment+"citation-api.com/query",parameters:{query:{search:t,srctype:e,origin:r}},item_class:e,style:i,site_code:r}}}(t,e,i);return new CitationService(a).search()},FormattingService.prototype.formatCitation=function(){function e(){var e,n,o;o=$("#current_style").val().includes("mla")?" ":", ",n=$("#parenthetical_box li").map(function(){var e,n;if(e=$(this),!e.find('input[type="checkbox"]').prop("checked"))return null;if(n=e.find("input[id]").val(),""===n)return null;switch(e.find("label").html()){case t(i18n.locale+".items.contributors"):return n;case t(i18n.locale+".items.title"):return $("#parenthetical_box").hasClass("book")?"<i>"+n+"</i>":'"'+n+'"';case t(i18n.locale+".items.pages"):return"apa"===i?n.match(/-/)?i18n.t("items.abbreviations.pages",{pages:n}):i18n.t("items.abbreviations.page",{page:n}):n;default:return n}}),e="("+n.get().join(o)+")",$("#parenthetical_citation").html(e)}var i=(JSON.parse($("#citation_data").val()),$("#current_style").val());e()},FormattingService.prototype.preview=function(t){$("#parenthetical_citation").html(t)},function(){function t(){var t,e=navigator.userAgent,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{browser:"MSIE",version:t[1]||""}):"Chrome"===i[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),null!=t)?t.slice(1).join(" ").replace("OPR","Opera"):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],t=e.match(/version\/(\d+)/i),null!=t&&i.splice(1,1,t[1]),{browser:i[0],version:i[1]})}function e(t){$(document).ready(function(){var e="<div class='bg-warning' id='graceful-degrade' style='text-align: center; width: 100%; padding: 30px;'>        <div style='max-width: 800px; margin: 0 auto;'>           <h4 class='text-warning'>Unfortunately <span class='site-name'></span> can no longer support old versions of Internet Explorer.           </h4>           <h5 style='line-height: 1.5;'>We recommend upgrading to the latest brower of your choice.<br>If you are using IE 11, make sure you turn off \"Compatiblity View\".<br>Download links for supported browsers are listed below:          </h5>          <ul style='width: 300px; text-align: left; display: block; margin: 0 auto;'>            <li><a href='https://www.microsoft.com/download/internet-explorer.aspx'>Internet Explorer</a></li>            <li><a href='https://www.mozilla.org/firefox'>Firefox</a></li>            <li><a href='https://www.google.com/chrome/browser'>Chrome</a></li>          </ul>        </div>      </div>",i="bibme"==t?"Bibme":"CitationMachine",n=$($.parseHTML(e));n.find(".site-name").text(i),$("body").prepend(n),$(window).scrollTop(0)})}function i(t){if("bibme"!=t){var e=document.createElement("style");e.innerText=n(),document.head.appendChild(e)}}function n(){return"      /* conditionally added to CM layout if less than ie10  */      /* orangey highlight */      /* this rule seems to get dropped in < ie9 */      .row {        width: 100%;      }            /* collapsing main nav bar */      div#site-nav {        border-bottom: #bf1905 solid 5px;        height: 50px;        padding-bottom: 100px;        /*  this padding bottom ads unnecessary bloat */        /*  but seems to be necessary to maintain  */        /*  view of the Popular Style dropdown menu  */        /*  otherwise invisible bc of absolute positioning */        /*  all over the main stylesheets */        /*  ie9 doesn't like absolute positioning */ }        div#site-nav .nav-item, div#site-nav #logo-link {          float: left; }            /* fixes li stacking, not aligning */      ul.select-default-styles li {        float: left; }            /* on index page - 'how this works' displaying block, should be inline */      #how-works-image, #how-works-heading {        display: inline;        float: left; }            #steps {        margin-bottom: 10px; }        #steps .col-sm-4 {          float: left;          display: inline;          width: 32%; }          #steps .col-sm-4 h4 {            font-weight: bold; }            /*  CITATION MACHINE\u2122 HELPS STUDENTS */      /*  displaying fully block, not entirely fixed but better */      #citation-splash .col-sm-6 {        display: inline;        float: left; }            #citation-splash #someday {        display: block; }            /* search page */      div.search-bar .fill-mode {        padding: 10px; }            div.search-bar .search-field-col {        width: 60%;        float: left; }            div.search-bar .search-button-col {        float: left; }            div.search-bar .search-button {        background-color: #d78541; }            div.search-bar .search-results {        border: #d78541 3px solid; }        div.search-bar .search-results ul {          list-style: none;          padding-left: 0; }        div.search-bar .search-results li {          padding: 10px;          border-bottom: gray 2px solid;          /* button */ }          div.search-bar .search-results li form {            float: right; }            div.search-bar .search-results li form button {              background-color: #d78541;              color: white; }            div#citation-guide .col-sm-6 {        max-width: 45%;        float: left; }            /* citation form */      div#enter-citation input#create_citation {        background-color: #d78541;        color: white;        padding: 10px;        font-weight: bold; }            div#enter-citation table {        table-layout: fixed;        /* prevents form fields from overlapping */ }            div#enter-citation td input {        margin: 5px; }"}var o=t();if("MSIE"==o.browser&&Number(o.version)<10){var r=$("body").attr("data-site-code");i(r),e(r)}}(),window.addCopyPasteHandlers=function(){function t(t,e){var i={mac:[91,67],win:[17,67]},n={};$(window).keydown(function(o){n[o.keyCode]=!0,t.data()["bs.modal"]&&t.data()["bs.modal"].isShown&&(n[i.mac[0]]&&n[i.mac[1]]||n[i.win[0]]&&n[i.win[1]])&&window.setTimeout(function(){window.top.location=e})}),$(window).keyup(function(t){n[t.keyCode]=!1})}function e(){var t=/mac/i.test(navigator.platform)?"\u2318":"Ctrl",e='<div class="modal fade" id="cpModal">  <div class="modal-dialog" role="document">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close">          <span aria-hidden="true">&times;</span>        </button></br>      </div>      <div class="modal-body">        <p>Your <span id="item-copied"></span> has been selected.</br>Press '+t+" + C to copy the selected text to your clipboard.</p>      </div>    </div><!-- /.modal-content -->  </div><!-- /.modal-dialog --></div><!-- /.modal -->";n=$(e),n._updateItemCopiedText=function(t){return n.find("#item-copied").text(t),n},$("body").append(n)}var i,n,o;i=document.createElement("div"),i.innerHTML='<div class="content"></div>',$(i).attr("id","c-p-offscreen-div"),$("body").append(i),$(".copy-paste").each(function(o,r){var a,s,l;a=$(r).data("clipboardTarget"),i.querySelector(a)||(s=$(a).first().clone(),s.html($.trim(s.html())),s.appendTo($(i).find(".content").first()),s.data()&&"chicagob"===s.data().styleCode&&s.after("</br>")),/parenthetical/.test(window.location.pathname)&&$("#parenthetical_box input").change(function(){s=$(a).first().clone(),s.html($.trim(s.html())),$(i).find(a).replaceWith(s)}),l=new Clipboard(r,{target:function(){return i.querySelector(a)}}),l.on("success",function(){var t=$(r).data("redirect-target");t&&(window.top.location=t)}),l.on("error",function(){n||e(),n._updateItemCopiedText("citation").modal(),t(n,$(r).data("redirect-target"))}),$(r).click(function(t){t.preventDefault()}),$(r).on("mouseover",function(){$(this).hasClass("content")&&($("#bibliography-content").length>0?$(".copy-paste-hover").css({position:"absolute",top:$(this).offset().top-$("#bibliography-content").offset().top-60,"z-index":9999,width:300}).show():$(".copy-paste-hover").css({position:"absolute",top:$(this).position().top-60,"z-index":9999,width:300}).show())}),$(r).on("mouseout",function(){$(this).hasClass("content")&&$(".copy-paste-hover").hide()})}),o=new Clipboard("#copy-full-bib",{target:function(){return i}}),$("#copy-full-bib").click(function(t){t.preventDefault()}),o.on("success",function(t){window.top.location=$(t.trigger).data("redirectTarget")}),o.on("error",function(i){n||e(),n._updateItemCopiedText("bibliography").modal(),t(n,$(i.trigger).data("redirectTarget"))})},function(){var t,e,i,n,o,r,a,s,l,c={}.hasOwnProperty,u=[].slice;l="undefined"!=typeof exports&&null!==exports?exports:this,i=function(t){this.message=t},i.prototype=new Error,s={prefix:"",default_url_options:{}},e={GROUP:1,CAT:2,SYMBOL:3,OR:4,STAR:5,LITERAL:6,SLASH:7,DOT:8},o="_options",t=!1,n=["anchor","trailing_slash","host","port","protocol"],r={default_serializer:function(t,e){var i,n,o,r,a,s,l;if(null==e&&(e=null),null==t)return"";if(!e&&"object"!==this.get_object_type(t))throw new Error("Url parameters should be a javascript hash");switch(l=[],this.get_object_type(t)){case"array":for(n=o=0,a=t.length;a>o;n=++o)i=t[n],l.push(this.default_serializer(i,e+"[]"));break;case"object":for(r in t)c.call(t,r)&&(s=t[r],null==s&&null!=e&&(s=""),null!=s&&(null!=e&&(r=e+"["+r+"]"),l.push(this.default_serializer(s,r))));break;default:null!=t&&l.push(encodeURIComponent(e.toString())+"="+encodeURIComponent(t.toString()))}return l.length?l.join("&"):""},custom_serializer:null,serialize:function(t){return null!=this.custom_serializer&&"function"===this.get_object_type(this.custom_serializer)?this.custom_serializer(t):this.default_serializer(t)},clean_path:function(t){var e;return t=t.split("://"),e=t.length-1,t[e]=t[e].replace(/\/+/g,"/"),t.join("://")},extract_options:function(t,e){var i,n;return i=e[e.length-1],e.length>t&&void 0===i||null!=i&&"object"===this.get_object_type(i)&&!this.looks_like_serialized_model(i)?(n=e.pop()||{},delete n[o],n):{}},looks_like_serialized_model:function(t){return!t[o]&&("id"in t||"to_param"in t)},path_identifier:function(t){var e;if(0===t)return"0";if(!t)return"";if(e=t,"object"===this.get_object_type(t)){if("to_param"in t){if(null==t.to_param)throw new i("Route parameter missing: to_param");e=t.to_param}else if("id"in t){if(null==t.id)throw new i("Route parameter missing: id");e=t.id}else e=t;"function"===this.get_object_type(e)&&(e=e.call(t))}return e.toString()},clone:function(t){var e,i,n;if(null==t||"object"!==this.get_object_type(t))return t;i=t.constructor();for(n in t)c.call(t,n)&&(e=t[n],i[n]=e);return i},merge:function(){var t,e;return e=1<=arguments.length?u.call(arguments,0):[],t=function(t,e){return e(t),t},(null!=e?e.length:void 0)>0?t({},function(t){var i,n,o,r,a,s;for(r=[],i=0,o=e.length;o>i;i++)s=e[i],r.push(function(){var e;e=[];for(n in s)a=s[n],e.push(t[n]=a);return e}());return r}):void 0},normalize_options:function(e,i,o,r){var a,l,u,d,p,h,f,m,b,g,v,y;if(p=this.extract_options(e.length,r),r.length>e.length)throw new Error("Too many parameters provided for path");v=t||r.length>i.length,f={};for(u in p)c.call(p,u)&&(v=!0,this.indexOf(e,u)>=0&&(f[u]=y));p=this.merge(s.default_url_options,o,p),m={},g={},m.url_parameters=g;for(u in p)c.call(p,u)&&(y=p[u],this.indexOf(n,u)>=0?m[u]=y:g[u]=y);for(b=v?e:i,a=0,l=0,d=b.length;d>l;l++)h=b[l],a<r.length&&(f.hasOwnProperty(h)||(g[h]=r[a],++a));return m},build_route:function(t,e,i,n,o,a){var s,l,c,u,d;return a=Array.prototype.slice.call(a),s=this.normalize_options(t,e,i,a),l=s.url_parameters,c=""+this.get_prefix()+this.visit(n,l),u=r.clean_path(c),s.trailing_slash===!0&&(u=u.replace(/(.*?)[\/]?$/,"$1/")),(d=this.serialize(l)).length&&(u+="?"+d),u+=s.anchor?"#"+s.anchor:"",o&&(u=this.route_url(s)+u),u},visit:function(t,n,o){var r,a,s,l,c,u;switch(null==o&&(o=!1),c=t[0],r=t[1],s=t[2],c){case e.GROUP:return this.visit(r,n,!0);case e.STAR:return this.visit_globbing(r,n,!0);case e.LITERAL:case e.SLASH:case e.DOT:return r;case e.CAT:return a=this.visit(r,n,o),l=this.visit(s,n,o),o&&(this.is_optional_node(r[0])&&!a||this.is_optional_node(s[0])&&!l)?"":""+a+l;case e.SYMBOL:if(u=n[r],null!=u)return delete n[r],this.path_identifier(u);if(o)return"";throw new i("Route parameter missing: "+r);default:throw new Error("Unknown Rails node type")}},is_optional_node:function(t){return this.indexOf([e.STAR,e.SYMBOL,e.CAT],t)>=0},build_path_spec:function(t,i){var n,o,r;switch(null==i&&(i=!1),r=t[0],n=t[1],o=t[2],r){case e.GROUP:return"("+this.build_path_spec(n)+")";case e.CAT:return""+this.build_path_spec(n)+this.build_path_spec(o);case e.STAR:return this.build_path_spec(n,!0);case e.SYMBOL:return i===!0?""+("*"===n[0]?"":"*")+n:":"+n;case e.SLASH:case e.DOT:case e.LITERAL:return n;default:throw new Error("Unknown Rails node type")}},visit_globbing:function(t,e,i){var n,o,r,a;return r=t[0],n=t[1],o=t[2],n.replace(/^\*/i,"")!==n&&(t[1]=n=n.replace(/^\*/i,"")),a=e[n],null==a?this.visit(t,e,i):(e[n]=function(){switch(this.get_object_type(a)){case"array":return a.join("/");default:return a}}.call(this),this.visit(t,e,i))},get_prefix:function(){var t;return t=s.prefix,""!==t&&(t=t.match("/$")?t:t+"/"),t},route:function(t,e,i,n){var o,a,s,l,c,u,d,p;for(p=[],l=[],o=0,a=t.length;a>o;o++)u=t[o],s=u[0],d=u[1],l.push(s),d&&p.push(s);return c=function(){return r.build_route(l,p,e,i,n,arguments)},c.required_params=p,c.toString=function(){return r.build_path_spec(i)},c},route_url:function(t){var e,i,n;return"string"==typeof t?t:(n=t.protocol||r.current_protocol(),e=t.host||window.location.hostname,i=t.port||(t.host?void 0:r.current_port()),i=i?":"+i:"",n+"://"+e+i)},has_location:function(){return"undefined"!=typeof window&&"undefined"!=typeof window.location},current_host:function(){return this.has_location()?window.location.hostname:null},current_protocol:function(){return this.has_location()&&""!==window.location.protocol?window.location.protocol.replace(/:$/,""):"http"},current_port:function(){return this.has_location()&&""!==window.location.port?window.location.port:""},_classToTypeCache:null,_classToType:function(){var t,e,i,n;if(null!=this._classToTypeCache)return this._classToTypeCache;for(this._classToTypeCache={},n="Boolean Number String Function Array Date RegExp Object Error".split(" "),t=0,e=n.length;e>t;t++)i=n[t],this._classToTypeCache["[object "+i+"]"]=i.toLowerCase();return this._classToTypeCache},get_object_type:function(t){return l.jQuery&&null!=l.jQuery.type?l.jQuery.type(t):null==t?""+t:"object"==typeof t||"function"==typeof t?this._classToType()[Object.prototype.toString.call(t)]||"object":typeof t},indexOf:function(t,e){return Array.prototype.indexOf?t.indexOf(e):this.indexOfImplementation(t,e)},indexOfImplementation:function(t,e){var i,n,o,r,a;for(a=-1,n=o=0,r=t.length;r>o;n=++o)i=t[n],i===e&&(a=n);return a}},a=function(){var t;return t=function(e,i){var n,o;return o=i?i.split("."):[],o.length?(n=o.shift(),e[n]=e[n]||{},t(e[n],o.join("."))):void 0},t(l,"Routes"),l.Routes={about_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"about",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),account_expired_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"account_expired",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),
account_gate_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"account_gate",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),ad_block_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"ad_block",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_awt_stats_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"awt_stats",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_plagiarisms_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"plagiarisms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_registration_reports_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"registration_reports",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_revenue_reports_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"revenue_reports",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_root_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),admin_seo_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"seo",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_style_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"styles",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),admin_styles_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"styles",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),admin_user_awt_upload_path:r.route([["user_id",!0],["resource",!0]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"awt_upload",!1],[2,[7,"/",!1],[5,[3,"*resource",!1],!1]]]]]]]]]]),admin_user_bibliography_path:r.route([["user_id",!0],["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]),admin_user_user_admin_note_path:r.route([["user_id",!0],["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"user_admin_notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]),admin_user_user_admin_notes_path:r.route([["user_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"user_admin_notes",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),admin_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),ads_configs_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"ads",!1],[2,[7,"/",!1],[2,[6,"configs",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),api_v1_path:r.route([["chegg_user_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"chegg_user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),api_v1_bibliographies_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),api_v1_bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),api_v1_braintree_client_client_token_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"braintree_client",!1],[2,[7,"/",!1],[2,[6,"client_token",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),api_v1_format_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"format",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),api_v1_types_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"types",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),api_v1_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),api_v1_users_validation_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"validation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),app_health_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"app-health",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),auth_chegg_callback_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"auth",!1],[2,[7,"/",!1],[2,[6,"chegg",!1],[2,[7,"/",!1],[2,[6,"callback",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),bibliographies_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),bibliography_help_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliography",!1],[2,[7,"/",!1],[2,[6,"help",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),bibliography_saved_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliography",!1],[2,[7,"/",!1],[2,[6,"saved",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),bm_new_style_item_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]),bm_style_path:r.route([["style",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),bm_style_item_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]),bm_style_item_results_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]),cancel_subscription_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"cancel_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),charge_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"charges",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),charges_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"charges",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),charges_admin_revenue_reports_path:r.route([["month",!0],["year",!0],["day",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"revenue_reports",!1],[2,[7,"/",!1],[2,[3,"month",!1],[2,[7,"/",!1],[2,[3,"year",!1],[2,[7,"/",!1],[2,[3,"day",!1],[2,[7,"/",!1],[2,[6,"charges",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]),cite_form_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"cite",!1],[2,[7,"/",!1],[2,[6,"form",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),cm_new_style_item_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[6,"cite-a-",!1],[2,[3,"item_type",!1],[2,[7,"/",!1],[2,[6,"manual",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]),cm_style_path:r.route([["style",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),cm_style_item_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[6,"cite-a-",!1],[2,[3,"item_type",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]),cm_style_item_results_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[6,"cite-a-",!1],[2,[3,"item_type",!1],[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]),confirm_items_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[6,"confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),copy_item_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"copy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),disabled_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"disabled",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),downgrade_admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"downgrade",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),easybib_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"easybib",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),easybib_bibliography_bibliography_path:r.route([["id",!0],["style",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"style",!1],[2,[7,"/",!1],[2,[3,"style",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]),easybib_form_new_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]),easybib_manual_style_item_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[2,[7,"/",!1],[2,[6,"manual",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]),easybib_style_item_results_path:r.route([["style",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[3,"style",!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[2,[6,"-citation",!1],[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]),easybib_title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"easybib-title-page",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),edit_account_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"edit_account",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),edit_account_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"edit_account",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),edit_admin_style_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"styles",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),edit_admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),edit_admin_user_user_admin_note_path:r.route([["user_id",!0],["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"user_admin_notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]),edit_bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),edit_card_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"edit_card",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),edit_easybib_title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"easybib-title-page",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),edit_item_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),edit_plagiarism_check_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"plagiarism-check",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),edit_title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"title-page",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),eswitch_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"eswitch",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),export_bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"export",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),footnote_item_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"footnote",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),footnote_items_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[6,"footnote",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),forgot_password_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"forgot_password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),format_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"format",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),free_plagiarism_checks_admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"free_plagiarism_checks",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),free_upgrade_admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"free_upgrade",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),grammar_and_plagiarism_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"grammar-and-plagiarism",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),help_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"help",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),home_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"home",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),impersonate_admin_user_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"impersonate",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),item_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),items_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),legacy_logout_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"legacy_logout",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),login_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"login",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),logout_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"logout",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_admin_style_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"styles",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),new_admin_user_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),new_admin_user_user_admin_note_path:r.route([["user_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"user_admin_notes",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]),new_bibliography_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_charge_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"charges",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_easybib_title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"easybib-title-page",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_item_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_plagiarism_check_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"plagiarism-check",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_shares_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"title-page",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_user_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),paperchecker_cta_preview_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"paperchecker",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),paperchecker_payment_modal_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"paperchecker_payment_modal",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),parenthetical_item_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"parenthetical",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),parenthetical_items_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"items",!1],[2,[7,"/",!1],[2,[6,"parenthetical",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),plagiarism_check_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"plagiarism-check",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),privacy_policy_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"privacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),recover_admin_user_bibliography_path:r.route([["user_id",!0],["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"recover",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]),refresh_token_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"refresh-token",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),register_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"register",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),registrations_admin_registration_reports_path:r.route([["month",!0],["year",!0],["day",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"registration_reports",!1],[2,[7,"/",!1],[2,[3,"month",!1],[2,[7,"/",!1],[2,[3,"year",!1],[2,[7,"/",!1],[2,[3,"day",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]),rename_bib_bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"rename_bib",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),resubscribe_accounts_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"accounts",!1],[2,[7,"/",!1],[2,[6,"resubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),resubscribe_login_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"resubscribe_login",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),root_path:r.route([],{},[7,"/",!1]),save_card_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"save_card",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),search_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),session_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"session",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),settings_admin_plagiarisms_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"plagiarisms",!1],[2,[7,"/",!1],[2,[6,"settings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),share_bibliography_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"share",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),show_admin_registration_reports_path:r.route([["month",!0],["year",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"registration_reports",!1],[2,[7,"/",!1],[2,[3,"month",!1],[2,[7,"/",!1],[2,[3,"year",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),show_admin_revenue_reports_path:r.route([["month",!0],["year",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[2,[6,"revenue_reports",!1],[2,[7,"/",!1],[2,[3,"month",!1],[2,[7,"/",!1],[2,[3,"year",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),sidekiq_web_path:r.route([],{},[2,[7,"/",!1],[6,"sidekiq",!1]]),split_dashboard_path:r.route([],{protocol:"https://"},[2,[7,"/",!1],[2,[6,"admin",!1],[2,[7,"/",!1],[6,"split",!1]]]]),stripe_event_path:r.route([],{},[2,[7,"/",!1],[6,"stripe-events",!1]]),stripe_event_root_path:r.route([],{},[2,[2,[7,"/",!1],[6,"stripe-events",!1]],[7,"/",!1]]),style_bibliography_path:r.route([["id",!0],["style",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"bibliographies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"style",!1],[2,[7,"/",!1],[2,[3,"style",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),styleguide_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"styleguide",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),terms_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),title_page_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"title-page",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),token_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"token",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),types_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"types",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),update_account_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"update_account",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),upgrade_users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"upgrade",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),user_terms_agreement_path:r.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"user_terms_agreements",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),user_terms_agreements_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"user_terms_agreements",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),user_terms_agreements_defer_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"user_terms_agreements",!1],[2,[7,"/",!1],[2,[6,"defer",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),users_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),v2_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),v2_bibliographies_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"v2",!1],[2,[7,"/",!1],[2,[6,"bibliographies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),validate_request_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"validate-request",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),webhooks_path:r.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"webhooks",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]])},l.Routes.options=s,l.Routes.default_serializer=function(t,e){return r.default_serializer(t,e)},l.Routes},"function"==typeof define&&define.amd?define([],function(){return a()}):a()}.call(this),$(function(){var t=$('[data-toggle="popover"]');"function"==typeof t.popover&&t.popover({container:"body"}),$("#banner").click(function(){window.location="/"}),addCopyPasteHandlers()}),$(document).on("change","select#select-other-dropdown-menu",function(){return url=$(this).find(":selected").attr("url"),url?void(window.top.location=url):!1}),$(document).ready(function(){var t=window.location.protocol+"//"+window.location.hostname+window.location.pathname,e="<link rel='canonical' href='"+t+"'>";$('[rel="canonical"][href*="pressdns"]').remove(),$("head").append(e),$("#show_pass").on("click",function(){$("#password").attr("type","text")}),$("a.add_contributor").on("click",function(t){t.preventDefault(),$(this).siblings("input[name=add_contributor]").val(!0),$(this).closest("form").submit()}),$("#bibliography-title-edit").on("click",function(){$("#bibliography-title-text").attr("contenteditable",!0),$("#bibliography-title-text").focus(),$("#bibliography-title-edit").hide(),$("#bibliography-title-save").show(),$("#bibliography-title-cancel").show()}),$("#bibliography-title-cancel").on("click",function(){$("#bibliography-title-text").attr("contenteditable",!1),$("#bibliography-title-text").text($("#bibliography-title-text-hidden").val()),$("#bibliography-title-edit").show(),$("#bibliography-title-save").hide(),$("#bibliography-title-cancel").hide()}),$("#bibliography-title-save").on("click",function(t){$("#bibliography-title-text-hidden").val($("#bibliography-title-text").text()),t.preventDefault(),$("#bibliography-title-text-hidden").closest("form").submit()}),$(".countdown-timer").length&&initializeClock($(".countdown-timer")[0],$(".countdown-timer").data("expires-at")),$("#show_pass").click(function(){var t=($("#user_password").val(),$("#user_password").is("input[type='text']")?"password":"text");$("#user_password").attr("type",t)})}),$(document).ready(function(){$(".window-width").text(Math.floor($(window).width())),$(".container-width").text(Math.floor($(".container").width()))}),$(window).resize(function(){$(".window-width").text(Math.floor($(window).width())),$(".container-width").text(Math.floor($(".container").width()))});var t=libTranslate.getTranslationFunction(window.i18n.translations,{namespaceSplitter:"."});